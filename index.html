<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" />

    <style>
      @import url("https://fonts.googleapis.com/css2?family=Instrument+Sans&display=swap");
      @import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css");

      * {
        font-family: "Instrument Sans", sans-serif;
      }

      body {
        padding: 0;
        margin: 0;
      }

      .navigation a {
        color: #0a0a0a !important;
      }
    </style>

    <title>Website Resmi Dinas Sosial Kab. Tapin</title>
  </head>

  <body>
    <!-- navigasi bar -->
    <section class="navigasi" id="navigasi"></section>
    <div style="margin-top: 80px"></div>

    <!-- Spanduk  -->
    <section class="spanduk" id="spanduk"></section>

    <!-- carousel -->
    <section class="carousel" id="carousel"></section>

    <!-- Bagian Sambutan -->
    <div class="container-fluid my-1">
      <div class="row">
        <div class="col-sm-8 g-2">
          <div class="card" style="border: 0">
            <div class="card-body">
              <div class="row">
                <div class="col-sm-5">
                  <img src="asset/image/foto kadis.png" class="px-3 w-100" alt="" />
                </div>
                <div class="col-sm-7 g-4">
                  <div class="row text-center">
                    <h3 class="fw-bold">SAMBUTAN KEPALA DINAS</h3>
                  </div>
                  <div class="row mt-4">
                    <p>Assalammualaikum Wr. Wb.</p>
                    <p style="text-align: justify">
                      Selamat Datang di Website Dinas Sosial Kab. Tapin. Website ini dimaksudkan sebagai sarana publikasi untuk memberikan Informasi dan gambaran tentang Dinas Sosial Kabupaten Tapin, serta meningkatkan pelayanan kepada
                      masyarakat dan Pemerintah untuk mengkases informasi. Melalui keberadaan website ini kiranya masyarakat dapat mengetahui seluruh informasi tentang kebijakan Pemerintah dan Kegiatan Dinas Sosial diberbagai wilayah di
                      Kabupaten Tapin. Kritik dan saran juga sangat Kami harapkan demi penyempurnaan website ini dimasa datang. Semoga keberadaan website ini memberikan manfaat bagi kita semua. Aamiin
                    </p>
                  </div>
                  <div class="row mt-5">
                    <div class="col-sm-5"></div>
                    <div class="col-sm-7 text-center">
                      <span class="text-decoration-underline fw-bold">Drs. H. Samsi, MM </span><br />
                      Kepala Dinas Sosial Kabupaten Tapin
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-4 g-2">
          <div class="card" style="border: 0">
            <div class="card-body">
              <img src="asset/image/produk.jpeg" class="w-100" alt="" />
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Kolom Berita -->
    <div class="container-fluid" style="padding: 0; margin: 0">
      <div class="row justify-content-md-center mx-1">
        <div class="col-sm-9" style="padding: 0; margin: 0">
          <section class="berita" id="berita"></section>
        </div>
        <div class="col-sm-3">
          <section class="pelengkap" id="pelengkap"></section>
          <div class="row mt-3">
            <div class="col">
              <div class="card shadow-sm">
                <div class="card-body" style="background-color: rgb(215, 249, 249)">
                  <h5 class="card-title fw-bold text-center">Masukan dan Saran</h5>
                  <form class="mt-4" name="submit-to-google-sheet">
                    <div class="mb-3">
                      <label for="nama" class="form-label">Nama Lengkap</label>
                      <input
                        type="text"
                        class="form-control"
                        id="nama"
                        aria-describedby="nama"
                        name="nama"
                        autocomplete="off"
                        required
                        oninvalid="this.setCustomValidity('Nama harus di isi dengan LENGKAP dan harus di isi')"
                        oninput="this.setCustomValidity('')"
                      />
                      <div id="namaHelp" class="form-text">Isi dengan nama lengkap Anda</div>
                    </div>
                    <div class="mb-3">
                      <label for="telp" class="form-label">Kontak</label>
                      <input
                        type="tel"
                        class="form-control"
                        id="telp"
                        aria-describedby="telp"
                        name="kontak"
                        autocomplete="off"
                        required
                        pattern="(\+62|62|0)8[1-9][0-9]{6,9}$"
                        oninvalid="this.setCustomValidity('Isikan Nomor Handphone atau Nomor WhatsApp Anda')"
                        oninput="this.setCustomValidity('')"
                      />
                      <div id="telphelp" class="form-text">Isi dengan nomor Hp Aktif / WhatsApp Aktif</div>
                    </div>
                    <div class="mb-3">
                      <label for="komentar" class="form-label">Masukan dan Saran</label>
                      <textarea class="form-control" id="ekomentar" rows="4" name="pesan"></textarea>
                    </div>
                    <div class="alert alert-warning alert-dismissible fade show text-dark text-center d-none my-alert" style="font-size: 11pt" role="alert">
                      Masukan dan Saran Anda Sudah Kami Terima <br /><strong>Terimakasih Partisipasi Anda.</strong>
                      <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                    </div>

                    <button type="submit" class="btn btn-primary text-center btn-kirim">Kirim</button>

                    <button class="btn btn-primary btn-tunggu d-none" type="button" disabled>
                      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                      Hadangi Satumat...
                    </button>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Foto-foto galeri kegiatan dinsos -->
    <div class="container mt-4">
      <section class="galeri" id="galeri"></section>
    </div>

    <!-- footer -->
    <section class="footer mt-3" id="footer"></section>

    <script>
      const navigasi = document.getElementById("navigasi");
      const spanduk = document.getElementById("spanduk");
      const carousel = document.getElementById("carousel");
      const berita = document.getElementById("berita");
      const pelengkap = document.getElementById("pelengkap");
      const galeri = document.getElementById("galeri");
      const footer = document.getElementById("footer");

      // navigasi
      fetch("../bagian/navigasi.html").then(function (snap) {
        snap.text().then(function (result) {
          navigasi.innerHTML = result;
        });
      });

      // spanduk
      fetch("../bagian/spanduk.html").then(function (snap) {
        snap.text().then(function (result) {
          spanduk.innerHTML = result;
        });
      });

      // carousel
      fetch("../bagian/carousel.html").then(function (snap) {
        snap.text().then(function (result) {
          carousel.innerHTML = result;
        });
      });

      // berita
      fetch("../bagian/kolom berita.html").then(function (snap) {
        snap.text().then(function (result) {
          berita.innerHTML = result;
        });
      });

      // pelengkap
      fetch("../bagian/kolom pelengkap.html").then(function (snap) {
        snap.text().then(function (result) {
          pelengkap.innerHTML = result;
        });
      });

      // galeri
      fetch("../bagian/galeri.html").then(function (snap) {
        snap.text().then(function (result) {
          galeri.innerHTML = result;
        });
      });

      // footer
      fetch("../bagian/footer.html").then(function (snap) {
        snap.text().then(function (result) {
          footer.innerHTML = result;
        });
      });
    </script>

    <script>
      const scriptURL = "https://script.google.com/macros/s/AKfycbx6AP4WGfC-s_LiCv4kYoOwQaITLYkNdCd4EEa58VjzHHvZOdYQ47vw48dzBs96giSWdA/exec";
      const form = document.forms["submit-to-google-sheet"];
      const btnKirim = document.querySelector(".btn-kirim");
      const btnTunggu = document.querySelector(".btn-tunggu");
      const myAlert = document.querySelector(".my-alert");

      form.addEventListener("submit", (e) => {
        e.preventDefault();
        // ketika tombol submit di klik
        // tampilkan tombol loading, hilangkan tombol kirim
        btnTunggu.classList.toggle("d-none");
        btnKirim.classList.toggle("d-none");

        fetch(scriptURL, { method: "POST", body: new FormData(form) })
          .then((response) => {
            // tampilkan tombol kirim, hilangkan tombol loading
            btnTunggu.classList.toggle("d-none");
            btnKirim.classList.toggle("d-none");
            myAlert.classList.toggle("d-none");
            form.reset();
            console.log("Success!", response);
          })
          .catch((error) => console.error("Error!", error.message));
      });
    </script>

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js" integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa" crossorigin="anonymous"></script>
  </body>
</html>
